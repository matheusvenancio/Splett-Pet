<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template.xhtml">
	<h:head>
		<link href="/css/style.css" rel="stylesheet" type="text/css" />
		<f:metadata>
			<f:event type="preRenderView" listener="#{organizacaoMB.loadGerenciarOrg}" />
			
		</f:metadata>
	</h:head>
	<ui:define name="body">

		<h:form id="tabelaNecessidadeForm">
			<p:column>
				<p:button value="Novo Anuncio" outcome="novaNecessidade"
					style="font-size:12px !important; margin-right: 0px !important;padding-top:5px">
					<f:param name="id" value="#{organizacaoMB.organizacao.id}" />
				</p:button>
				<p:separator />
			</p:column>
			<p:dataTable id="necessidadesList"
				value="#{organizacaoMB.listarNecessidadesOrg(organizacaoMB.organizacao.id)}"
				var="nec" rows="3" paginator="true">

				<f:facet name="header">Necessidades da organizacao #{organizacaoMB.organizacao.nome}</f:facet>
				<p:column>
					<p:outputPanel deferred="true" deferredMode="visible">
						<p>
							<p:panel>
								<h:panelGrid style="height:30px" styleClass="semBorda">
									<h:panelGroup>
										<h:outputText value="descricao: " styleClass="f5" />
										<h:outputText value="#{nec.descricao}" styleClass="f6" />
									</h:panelGroup>
								</h:panelGrid>
								<h:panelGrid style="height:30px" styleClass="semBorda">
									<p:fieldset legend="Animais Vinculados">
										<p:ring value="#{nec.animais}" var="anl" columns="1">
											<p:outputPanel style="text-align:center;" layout="block">
												<p:graphicImage id="anlId"
													value="/image?nome=#{anl.imgMain.nome}" width="150"
													height="130">
													<p:tooltip for="anlId">
														<h:outputText value="#{anl.nome}" styleClass="f6" />
													</p:tooltip>
												</p:graphicImage>
											</p:outputPanel>
										</p:ring>
									</p:fieldset>
								</h:panelGrid>
							</p:panel>
						</p>
					</p:outputPanel>
				</p:column>

			</p:dataTable>
		</h:form>


	</ui:define>
</ui:composition>
