<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template.xhtml">

	<ui:define name="body">
		<h:form id="editarForm">
			<p:wizard widgetVar="usr" flowListener="#{usuarioMB.onFlowProcess}">
				<p:tab id="essenciais" title="Dados Essenciais"
					titleStyleClass="cabecarioWizardUsr">
					<p:panel header=" ">
						<h:panelGrid columns="4" styleClass="grid">

							<h:outputText value="Nome: *" />
							<p:inputText id="nomeTf" required="true" label="nome"
								value="#{usuarioMB.usuario.nome}"
								requiredMessage=" - este campo é obrigatório."
								validatorMessage=" - algo está errado aqui!">
								
								<f:validateLength minimum="3" maximum="30" />
							</p:inputText>
							<h:outputText value="3-30 caract." styleClass="fonteObs" />
							<p:message for="nomeTf" display="both" />

							<h:outputText value="Sobrenome(s): *" />
							<p:inputText id="sobrenomeTf" required="true" label="sobrenome"
								value="#{usuarioMB.usuario.sobrenome}"
								requiredMessage=" - este campo é obrigatório."
								validatorMessage=" - algo está errado aqui!">
								<f:validateLength minimum="4" maximum="60" />
							</p:inputText>
							<h:outputText value="4-60 caract." styleClass="fonteObs" />
							<p:message for="sobrenomeTf" display="both" />

							<h:outputText value="Login: *" />
							<p:inputText id="loginTf" required="true" label="login"
								value="#{usuarioMB.usuario.username}" name="j_username"
								requiredMessage=" - este campo é obrigatório."
								validatorMessage=" - algo está errado aqui!">
								<f:validateLength minimum="3" maximum="15" />
							</p:inputText>
							<h:outputText value="3-15 caract." styleClass="fonteObs" />
							<p:message for="loginTf" display="both" />

							<h:outputText value="Email: *" />
							<p:inputText id="emailTf" required="true" label="email"
								value="#{usuarioMB.usuario.email}"
								requiredMessage=" - este campo é obrigatório."
								validatorMessage=" - algo está errado aqui!">
								<f:validateLength minimum="6" maximum="35" />
								<f:validateRegex
									pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />

							</p:inputText>
							<h:outputText value="6-35 caract." styleClass="fonteObs" />
							<p:message for="emailTf" display="both" />


							<h:outputText for="pwd1" value="Senha: *" />
							<p:password id="senha1Tf" value="#{usuarioMB.usuario.password}"
								match="senha2Tf" label="senha1" required="true" feedback="true"
								requiredMessage=" - este campo é obrigatório." name="j_password"
								validatorMessage=" - algo está errado aqui!">
								<f:validateLength minimum="6" maximum="15" />
								 <p:watermark for="senha2Tf" value="Senha" /> 
							</p:password>
							<h:outputText value="6-15 caract." styleClass="fonteObs" />
							<p:message for="senha1Tf" display="both" />

							<h:outputText for="pwd2" value="Confirme a Senha: *" />
							<p:password id="senha2Tf" value="#{usuarioMB.usuario.password}"
								label="senha2" required="true" name="j_password"
								requiredMessage=" - este campo é obrigatório."
								validatorMessage=" - algo está errado aqui!" />
							<h:outputText value="6-15 caract." styleClass="fonteObs" />
							<p:message for="senha2Tf" display="both" />


							
							<h:outputText value="Permissao: " />
							<h:selectOneRadio value="#{usuarioMB.usuario.authority}" >
								<f:selectItem itemLabel="Administrador" itemValue="ROLE_ADMIN" />  
								<f:selectItem itemLabel="Moderador" itemValue="ROLE_MOD" /> 
								<f:selectItem itemLabel="Voluntario" itemValue="ROLE_VOLUNT" />
							</h:selectOneRadio>
							
							
							
								
							<h:outputText value="Pular para o último: " />
							<h:selectBooleanCheckbox value="#{usuarioMB.skip}" />
						</h:panelGrid>
						<h:outputText value="* todos os campos são obrigatórios"
							styleClass="fonteObsAlignRight" />
					</p:panel>
				</p:tab>

				<p:tab id="residenciais" title="Dados Residenciais"
					titleStyleClass="cabecarioWizardUsr">
					<p:panel header=" ">
						<h:panelGrid columns="3" columnClasses="label, value">

							<h:outputText value="Logradouro: " />
							<p:inputText id="logradouroTf"
								value="#{usuarioMB.endereco.logradouro}"
								validatorMessage=" - algo está errado aqui!"
								converter="ConverterEmptyToNull">
								<f:validateLength maximum="80" />
							</p:inputText>
							<p:message for="logradouroTf" display="both" />
							<h:outputText value="Número: " />
							<p:inputMask id="numeroTf" converter="ConverterEmptyToNull"
								value="#{usuarioMB.endereco.numero}" mask="9?9999" maxlength="5"
								placeHolder=" " validatorMessage=" - algo está errado aqui!" />
							<p:message for="numeroTf" display="both" />

							<h:outputText value="Complemento: " />
							<p:inputText id="complementoTf" converter="ConverterEmptyToNull"
								value="#{usuarioMB.endereco.complemento}"
								validatorMessage=" - algo está errado aqui!">
								<f:validateLength maximum="30" />
							</p:inputText>
							<p:message for="complementoTf" display="both" />

							<h:outputText value="CEP: " />
							<p:inputMask id="cepTf" converter="ConverterEmptyToNull"
								value="#{usuarioMB.endereco.cep}" mask="99999-999" maxlength="8"
								placeHolder=" " validatorMessage=" - algo está errado aqui!" />
							<p:message for="cepTf" display="both" />

							<h:outputText value="Bairro: " />
							<p:inputText id="bairroTf" converter="ConverterEmptyToNull"
								value="#{usuarioMB.endereco.bairro}"
								validatorMessage=" - algo está errado aqui!">
								<f:validateLength maximum="70" />
							</p:inputText>
							<p:message for="bairroTf" display="both" />

							<h:outputText value="Cidade: " />
							<p:inputText id="cidadeTf" converter="ConverterEmptyToNull"
								value="#{usuarioMB.endereco.cidade}"
								validatorMessage=" - algo está errado aqui!">
								<f:validateLength maximum="60" />
							</p:inputText>
							<p:message for="cidadeTf" display="both" />

							<h:outputText value="Pular para o último: " />
							<h:selectBooleanCheckbox value="#{usuarioMB.skip}" />
						</h:panelGrid>
						<h:panelGrid columns="1">
							<h:outputText
								value="Você pode preencher ou alterar estes dados em outros acessos."
								styleClass="fonteInfoDestaq" />
							<h:outputText
								value="os dados pessoais serão inicialmente privados, mas você poderá torna-las públicos "
								styleClass="fonteObsAlignRight" />
						</h:panelGrid>

					</p:panel>
				</p:tab>

				<p:tab id="contato" title="Dados para Contato"
					titleStyleClass="cabecarioWizardUsr">
					<p:panel header=" ">

						<h:panelGrid columns="3" columnClasses="label, value">
							<h:outputText value="Telefone Residencial: " />
							<p:inputMask id="telResTf" converter="ConverterEmptyToNull"
								label="telefoneRes" value="#{usuarioMB.usuario.telefoneRes}"
								mask="(99) 9999-9999" maxlength="13" placeHolder=" " />
							<p:messages for="telResTf" display="both" />

							<h:outputText value="Telefone Celular: " />
							<p:inputMask id="telCelTf" converter="ConverterEmptyToNull"
								label="telefoneCel" value="#{usuarioMB.usuario.telefoneCel}"
								mask="(99) 9999-9999" maxlength="13" placeHolder=" " />
							<p:messages for="telCelTf" display="both" />

							<h:outputText value="Pular para o último: " />
							<h:selectBooleanCheckbox value="#{usuarioMB.skip}" />
						</h:panelGrid>
						<h:panelGrid columns="1">
							<h:outputText
								value="Você pode preencher ou alterar estes dados em outros acessos."
								styleClass="fonteInfoDestaq" />
							<h:outputText
								value="os dados pessoais serão inicialmente privados, mas você poderá torna-las públicos "
								styleClass="fonteObsAlignRight" />
						</h:panelGrid>
					</p:panel>
				</p:tab>

				<p:tab id="adicionais" title="Dados Adicionais"
					titleStyleClass="cabecarioWizardUsr">
					<p:panel header=" ">

						<p:messages id="messagesTab4" showDetail="false" autoUpdate="true" />

						<h:panelGrid columns="3" columnClasses="label, value">
							<h:outputText value="Sobre você: " />
							<p:inputTextarea id="bioTf" converter="ConverterEmptyToNull"
								required="false" label="bio" value="#{usuarioMB.usuario.bio}"
								rows="8" cols="50" autoResize="false" counter="counter"
								maxlength="300" counterTemplate="{0} characters remaining." />
							<h:outputText id="counter" />
							<p:messages for="bioTf" display="both" />

						</h:panelGrid>
						<h:outputText
							value="Você pode preencher ou alterar estes dados em outros acessos."
							styleClass="fonteInfoDestaq" />
					</p:panel>
				</p:tab>


				<p:tab id="confirm" title="Confirmar"
					titleStyleClass="cabecarioWizardUsr">
					<p:panel header=" ">

						<p:panelGrid id="confirmarGrid">
							<f:facet name="header">
								<p:row>
									<p:column colspan="2">Dados Essenciais</p:column>
									<p:column colspan="2">Dados Residenciais</p:column>
									<p:column colspan="2">Dados para Contato</p:column>
									<p:column colspan="2">Dados Adicionais</p:column>
								</p:row>
							</f:facet>
							<p:row>
								<p:column>
									<h:outputText value="Nome: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.usuario.nome}" />
								</p:column>
								<p:column>
									<h:outputText value="Logradouro: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.endereco.logradouro}" />
								</p:column>
								<p:column>
									<h:outputText value="Telefone Residencial: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.usuario.telefoneRes}" />
								</p:column>
								<p:column>
									<h:outputText value="Sobre você: " />
								</p:column>
							</p:row>

							<p:row>
								<p:column>
									<h:outputText value="Sobrenome: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.usuario.sobrenome}" />
								</p:column>
								<p:column>
									<h:outputText value="Número: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.endereco.numero}" />
								</p:column>
								<p:column>
									<h:outputText value="Telefone Celular: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.usuario.telefoneCel}" />
								</p:column>
								<p:column rowspan="4"
									style="font-weight: bold; max-height:150px;">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.usuario.bio}" />
								</p:column>
							</p:row>

							<p:row>
								<p:column>
									<h:outputText value="Login: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.usuario.username}" />
								</p:column>
								<p:column>
									<h:outputText value="Complemento: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.endereco.complemento}" />
								</p:column>
								<p:column colspan="2" styleClass="ui-widget-header">
									<p:spacer height="0" />
								</p:column>
							</p:row>

							<p:row>
								<p:column>
									<h:outputText value="E-mail: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.usuario.email}" />
								</p:column>
								<p:column>
									<h:outputText value="CEP: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.endereco.cep}" />
								</p:column>
								<p:column colspan="2" styleClass="ui-widget-header">
									<p:spacer height="0" />
								</p:column>
							</p:row>

							<p:row>
								<p:column colspan="2" styleClass="ui-widget-header">
									<p:spacer height="0" />
								</p:column>
								<p:column>
									<h:outputText value="Bairro: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.endereco.bairro}" />
								</p:column>
								<p:column colspan="2" styleClass="ui-widget-header">
									<p:spacer height="0" />
								</p:column>
							</p:row>

							<p:row>
								<p:column colspan="2" styleClass="ui-widget-header">
									<p:spacer height="0" />
								</p:column>
								<p:column>
									<h:outputText value="Cidade: " />
								</p:column>
								<p:column style="font-weight: bold">
									<h:outputText styleClass="outputLabel"
										value="#{usuarioMB.endereco.cidade}" />
								</p:column>
								<p:column colspan="3" styleClass="ui-widget-header">
									<p:spacer height="0" />
								</p:column>
							</p:row>
						</p:panelGrid>
						<p:commandButton value="Salvar" action="#{usuarioMB.salvar}"
							immediate="true" />
					</p:panel>
				</p:tab>
			</p:wizard>
		</h:form>

	</ui:define>
</ui:composition>