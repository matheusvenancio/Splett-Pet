<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/layout/template.xhtml">

	<ui:define name="body">

		<p:growl id="msg" showDetail="true" />


		<p:commandButton id="addAvaliacao" value="Avaliar"
			actionListener="#{avaliacaoMB.criar}"
			oncomplete="PF('avaliacaoDialog').show()" update=":avaliacaoDlg"
			rendered="#{perfilMB.isManagementAllowed()}" />
		<br />

		<p:dialog id="avaliacaoDlg" widgetVar="avaliacaoDialog"
			header="Avaliar" height="40%" modal="true" resizable="false"
			draggable="false">
			<h:form id="avaliacoes_form">

				<h:panelGrid columns="3" styleClass="CRUDform">
					<h:outputText id="pontuacaoLb" value="Pontuação:" for="pontuacao" />
					<p:rating id="pontuacao" value="#{avaliacaoMB.avaliacao.pontuacao}" />
					<p:message for="pontuacao" />
				</h:panelGrid>

				<h:outputLabel id="descricaoLb" value="Avaliacao: " for="descricao"
					style="float:left; margin-right:2px;" />
				<p:inputTextarea id="descricao" autoResize="false" rows="5"
					cols="50" counter="display" maxlength="300"
					counterTemplate="{0} caracteres restantes"
					value="#{avaliacaoMB.avaliacao.texto}" />
				<br />
				<h:outputText id="display" />
				<br />
				<!--  update=":tableForm:videosTable :videos_form :msg"-->

				<p:commandButton id="salvarBT" value="Salvar" icon="salvar16"
					actionListener="#{avaliacaoMB.salvar}"
					oncomplete="if(!args.validationFailed) PF('avaliacaoDialog').hide()" />
				<p:commandButton id="cancelarBt" value="Cancelar" icon="cancelar16"
					oncomplete="PF('avaliacaoDialog').hide()" immediate="true"
					update=":msg" actionListener="#{avaliacaoMB.cancelar}" />
			</h:form>
		</p:dialog>



	</ui:define>

</ui:composition>